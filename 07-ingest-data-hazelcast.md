![PadoGrid](https://github.com/padogrid/padogrid/raw/develop/images/padogrid-3d-16x16.png) [*PadoGrid*](https://github.com/padogrid) | [*Catalogs*](https://github.com/padogrid/catalog-bundles/blob/master/all-catalog.md) | [*Manual*](https://github.com/padogrid/padogrid/wiki) | [*FAQ*](https://github.com/padogrid/padogrid/wiki/faq) | [*Releases*](https://github.com/padogrid/padogrid/releases) | [*Templates*](https://github.com/padogrid/padogrid/wiki/Using-Bundle-Templates) | [*Pods*](https://github.com/padogrid/padogrid/wiki/Understanding-Padogrid-Pods) | [*Kubernetes*](https://github.com/padogrid/padogrid/wiki/Kubernetes) | [*Docker*](https://github.com/padogrid/padogrid/wiki/Docker) | [*Apps*](https://github.com/padogrid/padogrid/wiki/Apps) | [*Quick Start*](https://github.com/padogrid/padogrid/wiki/Quick-Start)

---

# 7. Ingest data into Hazelcast

PadoGrid includes several apps that are tailored to each product. The `perf_test` app is most commonly used for ingesting mock data into clusters. Let's install `perf_test` and ingest data.

```bash
# You can specify the '-name' option to name the perf_test app instance
create_app -product hazelcast -name perf_test_hz

# For other apps, specify the '-app' option. The following creates a grafana_hz app instance
create_app -product hazelcast -app grafana -name granfana_hz
```

Assuming you have named `perf_test_hz`, change directory to that app as follows. Note that apps do not have the `switch_` command due to application specifics that need to be individually configured.

```bash
# Change directory to perf_test_hz and view directory structure
cd_app perf_test_hz
tree .
```

Output:

```console
.
├── README.md
├── bin_sh
│   ├── build_app
│   ├── clean_results
│   ├── create_csv
│   ├── listen_map
│   ├── read_cache
│   ├── setenv.sh
│   ├── subscribe_topic
│   ├── test_group
│   ├── test_ingestion
│   └── test_tx
├── etc
│   ├── group-cache.properties
│   ├── group-factory-er.properties
│   ├── group-factory.properties
│   ├── group-get.properties
│   ├── group-put-sleep.properties
│   ├── group-put.properties
│   ├── group-queue.properties
│   ├── group-rmap.properties
│   ├── group-rtopic.properties
│   ├── group-topic.properties
│   ├── group.properties
│   ├── hazelcast-client-blue.xml
│   ├── hazelcast-client-failover.xml
│   ├── hazelcast-client-green.xml
│   ├── hazelcast-client-k8s.xml
│   ├── hazelcast-client.xml
│   ├── hibernate.cfg-mysql.xml
│   ├── hibernate.cfg-postgresql.xml
│   ├── ingestion.properties
│   ├── log4j2.properties
│   ├── tx.properties
│   ├── v3
│   │   ├── hazelcast-client-blue.xml
│   │   ├── hazelcast-client-failover.xml
│   │   ├── hazelcast-client-green.xml
│   │   ├── hazelcast-client-k8s.xml
│   │   └── hazelcast-client.xml
│   ├── v4
│   │   ├── hazelcast-client-blue.xml
│   │   ├── hazelcast-client-failover.xml
│   │   ├── hazelcast-client-green.xml
│   │   ├── hazelcast-client-k8s.xml
│   │   └── hazelcast-client.xml
│   └── v5
│       ├── hazelcast-client-blue.xml
│       ├── hazelcast-client-failover.xml
│       ├── hazelcast-client-green.xml
│       ├── hazelcast-client-k8s.xml
│       └── hazelcast-client.xml
├── pom-hazelcast.xml
└── pom.xml
```

The `perf_test` app directory contains mostly configuration files along with scripts to run the application. By default, it is configured to connect to the **dev** Hazelcast cluster, so you can immediately run any of the scripts without configuring Hazelcast.

The `test_ingestion` script ingests PBM (Pharmacy Benefit Management) data into the cluster. If you run it without the `-run` option then it will only display ingestion information of the configured test cases, providing a preview.

```bash
cd bin_sh
./test_ingestion -run
```

The `test_tx` script performs transactions on co-located data ingested by `test_ingestion` using Hazelcast's Map Reduce services. It demonstrates how quickly PBM summary reports can be generated by parallelizing the work load to the members in the cluster.

```bash
./test_tx -run
```

If you need to measure Hazelcast performance that is aligned with how your application uses Hazelcast then you can run `test_group` to simulate your application workflows. A workflow is comprised of a series of Hazelcast data structure operations and application logic executions in a multi-threaded environment. `test_group` supports all of the Hazelcast data structure operations and simulates application logic executions by pausing between Hazelcast operations using the special `sleep` operation. By grouping operations and assigning threads, you can create very complex workflows that represent your application before you have even written the application - *all this without coding.*

```bash
./test_group -run
```

✏️  The performance metrics are placed in the `../results` directory for each `test_` script run.

There are many other features that are included in `perf_test`. The following is a list of core features. See [`perf_test` README.md](https://github.com/padogrid/padogrid/blob/develop/padogrid-deployment/src/main/resources/hazelcast/apps/perf_test/README.md) for details.

- Ingest mock data of any size
- Ingest transactional data of any size
- Ingest mock data with entity relationships (ER)
- Ingest mock data directly to databases
- Simulate complex application workflows that invoke Hazelcast operations without coding
- Measure Hazelcast latencies and throughputs in a multi-threaded user session environment

Once you have ingested data, you can view the data from the Management Center or run the `read_cache` script.

```bash
# Read the eligibility map
./read_cache eligibility

# Read the profile map
./read_cache profile

# Read the map1 map
./read_cache map1
```

We have been ingesting binary data as payload into Hazelcast. Let's ingest some meaningful data. This requires the [`javafaker`](https://github.com/DiUS/java-faker) library which we can install by running the `build_app` script.

```bash
./build_app
```

Upon completion of `build_app`, run `test_group` to ingest customer and order mock data as follows.

```bash
./test_group -run -prop ../etc/group-factory.properties
```

You can now view the data by running `read_cache` as follows. The mock data is stored in the `mw/customers` and `nw/orders` maps.

```bash
./read_cache nw/customers
./read_cache nw/orders
```

---

![PadoGrid](https://github.com/padogrid/padogrid/raw/develop/images/padogrid-3d-16x16.png) [*PadoGrid*](https://github.com/padogrid) | [*Catalogs*](https://github.com/padogrid/catalog-bundles/blob/master/all-catalog.md) | [*Manual*](https://github.com/padogrid/padogrid/wiki) | [*FAQ*](https://github.com/padogrid/padogrid/wiki/faq) | [*Releases*](https://github.com/padogrid/padogrid/releases) | [*Templates*](https://github.com/padogrid/padogrid/wiki/Using-Bundle-Templates) | [*Pods*](https://github.com/padogrid/padogrid/wiki/Understanding-Padogrid-Pods) | [*Kubernetes*](https://github.com/padogrid/padogrid/wiki/Kubernetes) | [*Docker*](https://github.com/padogrid/padogrid/wiki/Docker) | [*Apps*](https://github.com/padogrid/padogrid/wiki/Apps) | [*Quick Start*](https://github.com/padogrid/padogrid/wiki/Quick-Start)
